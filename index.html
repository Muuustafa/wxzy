<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Python - ISI Keur Massar | Licence 2</title>
    
    <!-- React et ReactDOM (CRITIQUE : DOIT √äTRE EN PREMIER) -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel Standalone -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <!-- SweetAlert2 -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    
    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    
    <style>
        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }
        
        @keyframes pulse-glow {
            0%, 100% { 
                box-shadow: 0 0 20px rgba(99, 102, 241, 0.5);
                transform: scale(1);
            }
            50% { 
                box-shadow: 0 0 40px rgba(99, 102, 241, 0.8);
                transform: scale(1.02);
            }
        }
        
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .gradient-bg {
            background: linear-gradient(-45deg, #667eea 0%, #764ba2 25%, #f093fb 50%, #4facfe 75%, #00f2fe 100%);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
        }
        
        .float-animation {
            animation: float 3s ease-in-out infinite;
        }
        
        .pulse-glow {
            animation: pulse-glow 2s ease-in-out infinite;
        }
        
        .slide-in {
            animation: slideIn 0.5s ease-out;
        }
        
        .code-editor {
            font-family: 'Fira Code', 'Consolas', 'Monaco', monospace;
        }
        
        .glass-effect {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .quick-nav-btn {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            transition: all 0.3s ease;
            border: 2px solid;
        }
        
        .quick-nav-btn:hover {
            transform: scale(1.1);
        }
        
        .quick-nav-container {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        @media (max-width: 1200px) {
            .quick-nav-container {
                width: 100%;
                max-height: none;
                margin-bottom: 20px;
            }
        }
    </style>
</head>
<body class="gradient-bg min-h-screen">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Configuration Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyCYjXM6YrfB862p48g6_mYX66C_La0ZsI0",
            authDomain: "quiz-python-isikm.firebaseapp.com",
            projectId: "quiz-python-isikm",
            storageBucket: "quiz-python-isikm.firebasestorage.app",
            messagingSenderId: "559369640769",
            appId: "1:559369640769:web:1ad8cb3d771f134f4d5fc0"
        };

        if (!firebase.apps.length) {
            firebase.initializeApp(firebaseConfig);
        }
        const db = firebase.firestore();

        // Fonction de hashage SHA-256
        const hashCode = async (code) => {
            const encoder = new TextEncoder();
            const data = encoder.encode(code);
            const hashBuffer = await crypto.subtle.digest('SHA-256', data);
            const hashArray = Array.from(new Uint8Array(hashBuffer));
            return hashArray.map(b => b.toString(16).padStart(2, '0')).join('');
        };

        const ACCESS_CODE_HASH = "a8a15faedf1420db2b80e81fe86167d785aaafb2c4da29bc55637ac1de7751d9";
        // 1ceb15a1b3a73deddff44f784912da987635f6aeab00641da984e8515f7dd232 (isikm.123)
        const RECOVERY_CODE_HASH = "e38e3b92f5a7a171ac9c2973b6e87f441ca4fad93193b1c9c8d3ab4a8f1acb4f";
        const EXIT_CODE_HASH = "aa89beeaf1c06a934c739d4b996be3381b7aa94247fe0e0e6ed1860ab6314b90";

        // Gestion du mode plein √©cran
        const enterFullscreen = () => {
            const element = document.documentElement;
            if (element.requestFullscreen) {
                element.requestFullscreen();
            } else if (element.webkitRequestFullscreen) {
                element.webkitRequestFullscreen();
            } else if (element.mozRequestFullScreen) {
                element.mozRequestFullScreen();
            } else if (element.msRequestFullscreen) {
                element.msRequestFullscreen();
            }
        };

        const exitFullscreen = () => {
            if (document.exitFullscreen) {
                document.exitFullscreen();
            } else if (document.webkitExitFullscreen) {
                document.webkitExitFullscreen();
            } else if (document.mozCancelFullScreen) {
                document.mozCancelFullScreen();
            } else if (document.msExitFullscreen) {
                document.msExitFullscreen();
            }
        };

        const isFullscreen = () => {
            return !!(document.fullscreenElement || 
                     document.webkitFullscreenElement || 
                     document.mozFullScreenElement || 
                     document.msFullscreenElement);
        };

        // G√©rer la tentative de sortie du plein √©cran
        const handleFullscreenExit = async () => {
            const { value: code } = await Swal.fire({
                icon: 'warning',
                title: 'üîí CODE DE SORTIE REQUIS',
                html: `
                    <div class="text-center">
                        <i class="fas fa-lock text-6xl text-orange-500 mb-4"></i>
                        <p class="text-xl font-bold text-gray-800 mb-2">Vous tentez de quitter le mode plein √©cran</p>
                        <p class="text-gray-600 mb-4">Cette action n√©cessite un code de sortie</p>
                        <p class="text-sm text-red-600">‚ö†Ô∏è Toute tentative de sortie sera enregistr√©e</p>
                    </div>
                `,
                input: 'password',
                inputLabel: 'Code de sortie',
                inputPlaceholder: 'Entrez le code fourni par l\'enseignant',
                showCancelButton: true,
                confirmButtonText: 'Valider',
                cancelButtonText: 'Retour au quiz',
                allowOutsideClick: false,
                allowEscapeKey: false,
                inputValidator: (value) => {
                    if (!value) return 'Le code est requis';
                }
            });

            if (code) {
                const codeHash = await hashCode(code);
                if (codeHash === EXIT_CODE_HASH) {
                    Swal.fire({
                        icon: 'success',
                        title: 'Code correct',
                        text: 'Vous pouvez maintenant quitter',
                        timer: 2000,
                        showConfirmButton: false
                    });
                    exitFullscreen();
                    return true;
                } else {
                    Swal.fire({
                        icon: 'error',
                        title: 'Code incorrect',
                        text: 'Retour au quiz en mode plein √©cran',
                        timer: 2000,
                        showConfirmButton: false
                    }).then(() => {
                        enterFullscreen();
                    });
                    return false;
                }
            } else {
                // L'√©tudiant a annul√©, on remet en plein √©cran
                enterFullscreen();
                return false;
            }
        };

        // Protection contre l'ouverture de la console pendant le quiz
        let consoleCheckInterval = null;
        let devtoolsWarningShown = false;
        
        const startConsoleProtection = () => {
            const element = new Image();
            let devtoolsOpen = false;
            
            Object.defineProperty(element, 'id', {
                get: function() {
                    devtoolsOpen = true;
                    return 'devtools';
                }
            });
            
            consoleCheckInterval = setInterval(() => {
                devtoolsOpen = false;
                console.log(element);
                console.clear();
                
                if (devtoolsOpen && !devtoolsWarningShown) {
                    devtoolsWarningShown = true;
                    Swal.fire({
                        icon: 'error',
                        title: 'üö® VIOLATION D√âTECT√âE',
                        html: `
                            <div class="text-center">
                                <i class="fas fa-ban text-6xl text-red-500 mb-4"></i>
                                <p class="text-xl font-bold text-red-600 mb-2">Ouverture des outils de d√©veloppement interdite !</p>
                                <p class="text-gray-600 mb-4">Cette tentative a √©t√© enregistr√©e.</p>
                                <p class="text-sm text-red-500">Le quiz va red√©marrer...</p>
                            </div>
                        `,
                        allowOutsideClick: false,
                        showConfirmButton: false,
                        timer: 3000
                    }).then(() => {
                        window.location.reload();
                    });
                }
            }, 500);
        };

        const stopConsoleProtection = () => {
            if (consoleCheckInterval) {
                clearInterval(consoleCheckInterval);
                consoleCheckInterval = null;
            }
        };

        // D√©sactiver clic droit, F12, Ctrl+Shift+I, etc.
        const disableDevTools = () => {
            // D√©sactiver clic droit
            document.addEventListener('contextmenu', (e) => {
                e.preventDefault();
                return false;
            });

            // D√©sactiver raccourcis clavier
            document.addEventListener('keydown', (e) => {
                // F12
                if (e.keyCode === 123) {
                    e.preventDefault();
                    return false;
                }
                // Ctrl+Shift+I ou Cmd+Option+I
                if ((e.ctrlKey || e.metaKey) && e.shiftKey && e.keyCode === 73) {
                    e.preventDefault();
                    return false;
                }
                // Ctrl+Shift+J ou Cmd+Option+J
                if ((e.ctrlKey || e.metaKey) && e.shiftKey && e.keyCode === 74) {
                    e.preventDefault();
                    return false;
                }
                // Ctrl+Shift+C ou Cmd+Option+C
                if ((e.ctrlKey || e.metaKey) && e.shiftKey && e.keyCode === 67) {
                    e.preventDefault();
                    return false;
                }
                // Ctrl+U ou Cmd+U (view source)
                if ((e.ctrlKey || e.metaKey) && e.keyCode === 85) {
                    e.preventDefault();
                    return false;
                }
            });
        };

        // Fonction pour m√©langer un tableau (algorithme Fisher-Yates)
        const shuffleArray = (array) => {
            const shuffled = [...array];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            return shuffled;
        };

        const QUIZ_CONFIG = {
            title: "Quiz Python - Licence 2 ISI Keur Massar",
            duration: 3000,
            penaltyPerWarning: 2,
            questions: [
                // NOUVELLES QUESTIONS 1-80 (DEUXI√àME DEVOIR)
                { id: 1, code: `x = float(5)\nprint(x)`, question: "Quelle est la sortie ?", options: ["5", "5.0", "5.00", "Erreur"], correct: 1, points: 1, difficulty: "Facile" },
                { id: 2, code: `texte = "Algorithmique"\nprint(len(texte))`, question: "Quelle est la sortie ?", options: ["10", "11", "12", "13"], correct: 2, points: 1, difficulty: "Facile" },
                { id: 3, code: `x = False\nprint(int(x))`, question: "Quelle est la sortie ?", options: ["False", "1", "0", "Erreur"], correct: 2, points: 1, difficulty: "Facile" },
                { id: 4, code: `liste = [15, 25, 35]\nprint(liste[-2])`, question: "Quelle est la sortie ?", options: ["15", "25", "35", "Erreur"], correct: 1, points: 1, difficulty: "Facile" },
                { id: 5, code: `print(type(42))`, question: "Quelle est la sortie ?", options: ["<class 'int'>", "<class 'float'>", "<class 'str'>", "<class 'number'>"], correct: 0, points: 1, difficulty: "Facile" },
                { id: 6, code: `x = 17\nprint(x // 4)`, question: "Quelle est la sortie de la division enti√®re ?", options: ["4.25", "4", "5", "Erreur"], correct: 1, points: 1, difficulty: "Facile" },
                { id: 7, code: `liste = [10, 20, 30]\nliste.insert(1, 15)\nprint(len(liste))`, question: "Quelle est la sortie ?", options: ["3", "4", "5", "6"], correct: 1, points: 1, difficulty: "Facile" },
                { id: 8, code: `x = "PYTHON"\nprint(x.lower())`, question: "Quelle est la sortie ?", options: ["python", "PYTHON", "Python", "Erreur"], correct: 0, points: 1, difficulty: "Facile" },
                { id: 9, code: `print(17 % 5)`, question: "Quelle est la sortie ?", options: ["3", "2", "5", "0"], correct: 0, points: 1, difficulty: "Facile" },
                { id: 10, code: `x = [9, 3, 7, 1]\nprint(min(x))`, question: "Quelle est la sortie ?", options: ["9", "3", "7", "1"], correct: 3, points: 1, difficulty: "Facile" },
                { id: 11, code: `mots = "ISI Keur Massar".split()\nprint(mots[1])`, question: "Quelle est la sortie ?", options: ["ISI", "Keur", "Massar", "Erreur"], correct: 1, points: 1.25, difficulty: "Assez Facile" },
                { id: 12, code: `x = "45.5"\ny = float(x)\nprint(y + 0.5)`, question: "Quelle est la sortie ?", options: ["45.5", "46.0", "46", "Erreur"], correct: 1, points: 1.25, difficulty: "Assez Facile" },
                { id: 13, code: `liste = [10, 20, 30, 40, 50]\nprint(liste[2:])`, question: "Quelle est la sortie ?", options: ["[10, 20]", "[20, 30]", "[30, 40, 50]", "[40, 50]"], correct: 2, points: 1.25, difficulty: "Assez Facile" },
                { id: 14, code: `x = "ordinateur"\nprint(x[2] + x[5])`, question: "Quelle est la sortie ?", options: ["or", "di", "da", "te"], correct: 2, points: 1.25, difficulty: "Assez Facile" },
                { id: 15, code: `for i in range(1, 4):\n    print(i, end=" ")`, question: "Quelle est la sortie compl√®te ?", options: ["123", "1 2 3", "0 1 2 3", "3 2 1"], correct: 1, points: 1.25, difficulty: "Assez Facile" },
                { id: 16, code: `x = 24\nresultat = "Pair" if x % 2 == 0 else "Impair"\nprint(resultat)`, question: "Quelle est la sortie ?", options: ["Pair", "Impair", "True", "False"], correct: 0, points: 1.25, difficulty: "Assez Facile" },
                { id: 17, code: `x = [5, 10, 15]\ny = [20, 25]\nx += y\nprint(len(x))`, question: "Quelle est la sortie ?", options: ["3", "5", "2", "Erreur"], correct: 1, points: 1.25, difficulty: "Assez Facile" },
                { id: 18, code: `texte = "   ISI   "\nprint(len(texte))`, question: "Quelle est la sortie ?", options: ["3", "6", "9", "Erreur"], correct: 2, points: 1.25, difficulty: "Assez Facile" },
                { id: 19, code: `x = [100, 50, 75, 25]\nx.sort(reverse=True)\nprint(x[0])`, question: "Quelle est la sortie ?", options: ["25", "50", "75", "100"], correct: 3, points: 1.25, difficulty: "Assez Facile" },
                { id: 20, code: `print("ha" * 4)`, question: "Quelle est la sortie ?", options: ["ha4", "haha", "hahahaha", "Erreur"], correct: 2, points: 1.25, difficulty: "Assez Facile" },
                { id: 21, code: `liste = [5, 2, 5, 8, 5]\nprint(liste.count(5))`, question: "Quelle est la sortie ?", options: ["1", "2", "3", "5"], correct: 2, points: 1.5, difficulty: "Moyen" },
                { id: 22, code: `x = 3\ny = 4\nprint(x ** y)`, question: "Quelle est la sortie ?", options: ["7", "12", "81", "64"], correct: 2, points: 1.5, difficulty: "Moyen" },
                { id: 23, code: `def test1(a, b):\n    return a * b\nprint(test1(6, 7))`, question: "Quelle est la sortie ?", options: ["67", "13", "42", "None"], correct: 2, points: 1.5, difficulty: "Moyen" },
                { id: 24, code: `texte = "a;b;c;d"\nelements = texte.split(';')\nprint(elements[2])`, question: "Quelle est la sortie ?", options: ["a", "b", "c", "d"], correct: 2, points: 1.5, difficulty: "Moyen" },
                { id: 25, code: `x = ['a', 'b', 'c']\nx[0] = 'z'\nprint(x)`, question: "Quelle est la sortie ?", options: ["['z', 'b', 'c']", "['a', 'z', 'c']", "['a', 'b', 'z']", "Erreur"], correct: 0, points: 1.5, difficulty: "Moyen" },
                { id: 26, code: `liste = [10, 20]\ny = [30, 40, 50]\nz = liste + y\nprint(z[3])`, question: "Quelle est la sortie ?", options: ["10", "20", "40", "50"], correct: 2, points: 1.5, difficulty: "Moyen" },
                { id: 27, code: `mots = ["x", "y", "z"]\nresultat = ".".join(mots)\nprint(resultat)`, question: "Quelle est la sortie ?", options: ["xyz", "x.y.z", "x y z", "Erreur"], correct: 1, points: 1.5, difficulty: "Moyen" },
                { id: 28, code: `for i in range(4):\n    if i == 1:\n        continue\n    print(i, end=" ")`, question: "Quelle est la sortie ?", options: ["0 1 2 3", "0 2 3", "1 2 3", "2 3"], correct: 1, points: 1.5, difficulty: "Moyen" },
                { id: 29, code: `x = "programmation"\ny = x.replace("m", "M")\nprint(y)`, question: "Quelle est la sortie ?", options: ["programmation", "prograMmation", "programMation", "progRAMmation"], correct: 1, points: 1.5, difficulty: "Moyen" },
                { id: 30, code: `a = 7\nb = 3\na, b = b + 1, a - 1\nprint(a)`, question: "Quelle est la sortie ?", options: ["7", "3", "4", "6"], correct: 2, points: 1.5, difficulty: "Moyen" },
                { id: 31, code: `i = 5\nwhile i > 0:\n    i -= 2\nprint(i)`, question: "Quelle est la sortie ?", options: ["0", "1", "-1", "5"], correct: 2, points: 1.75, difficulty: "Assez Difficile" },
                { id: 32, code: `x = 2\nfor i in range(2, 5):\n    x *= i\nprint(x)`, question: "Quelle est la sortie ?", options: ["24", "48", "12", "6"], correct: 1, points: 1.75, difficulty: "Assez Difficile" },
                { id: 33, code: `x = 20\nwhile x > 5:\n    x -= 5\n    if x == 10:\n        break\nprint(x)`, question: "Quelle est la sortie ?", options: ["5", "10", "15", "20"], correct: 1, points: 1.75, difficulty: "Assez Difficile" },
                { id: 34, code: `def test2(n):\n    if n < 0:\n        return -n\n    return n\nprint(test2(-8))`, question: "Quelle est la sortie ?", options: ["-8", "8", "0", "None"], correct: 1, points: 1.75, difficulty: "Assez Difficile" },
                { id: 35, code: `texte = "licence deux informatique"\nprint(texte.title())`, question: "Quelle est la sortie ?", options: ["licence deux informatique", "Licence Deux Informatique", "LICENCE DEUX INFORMATIQUE", "Licence deux informatique"], correct: 1, points: 1.75, difficulty: "Assez Difficile" },
                { id: 36, code: `liste = [100, 200, 300, 400]\nprint(liste[-3])`, question: "Quelle est la sortie ?", options: ["100", "200", "300", "400"], correct: 1, points: 1.75, difficulty: "Assez Difficile" },
                { id: 37, code: `x = [2, 4, 6, 8, 10]\nprint(x[1::2])`, question: "Quelle est la sortie ?", options: ["[2, 6, 10]", "[4, 8]", "[2, 4, 6]", "[6, 8, 10]"], correct: 1, points: 1.75, difficulty: "Assez Difficile" },
                { id: 38, code: `x = "abc"\nprint(x.isalpha())`, question: "Quelle est la sortie ?", options: ["True", "False", "abc", "Erreur"], correct: 0, points: 1.75, difficulty: "Assez Difficile" },
                { id: 39, code: `nums = [5, 10, 15]\nprint(sum(nums))`, question: "Quelle est la sortie ?", options: ["5", "15", "30", "150"], correct: 2, points: 1.75, difficulty: "Assez Difficile" },
                { id: 40, code: `x = [9, 8, 7, 6]\nx.reverse()\nprint(x[-1])`, question: "Quel est la sortie ?", options: ["9", "8", "7", "6"], correct: 0, points: 1.75, difficulty: "Assez Difficile" },
                { id: 41, code: `for i in range(5, 0, -1):\n    print(i, end=" ")`, question: "Quelle est la sortie ?", options: ["5 4 3 2 1", "1 2 3 4 5", "5 4 3 2", "4 3 2 1"], correct: 0, points: 2, difficulty: "Difficile" },
                { id: 42, code: `x = [1, 2, 3]\ny = x.copy()\ny.append(4)\nprint(len(x))`, question: "Quelle est la sortie ?", options: ["3", "4", "7", "Erreur"], correct: 0, points: 2, difficulty: "Difficile" },
                { id: 43, code: `texte = "Informatique"\nprint(texte[2:7])`, question: "Quelle est la sortie ?", options: ["forma", "format", "nform", "ormat"], correct: 0, points: 2, difficulty: "Difficile" },
                { id: 44, code: `x = [1, 2, 3, 4]\nprint(x[:3])`, question: "Quelle est la sortie ?", options: ["[1, 2, 3, 4]", "[1, 2, 3]", "[2, 3, 4]", "[1, 2]"], correct: 1, points: 2, difficulty: "Difficile" },
                { id: 45, code: `x = "python:java:c++"\ny = x.split(':')\nz = "/".join(y)\nprint(z)`, question: "Quelle est la sortie ?", options: ["python:java:c++", "python/java/c++", "python java c++", "python-java-c++"], correct: 1, points: 2, difficulty: "Difficile" },
                { id: 46, code: `x = 0\nfor i in range(1, 6):\n    if i % 2 != 0:\n        x += i\nprint(x)`, question: "Quelle est la somme des nombres impairs ?", options: ["6", "9", "12", "15"], correct: 1, points: 2, difficulty: "Difficile" },
                { id: 47, code: `liste = [12, 5, 18, 3, 9]\nliste.sort()\nprint(liste[1])`, question: "Quelle est la sortie ?", options: ["3", "5", "9", "12"], correct: 1, points: 2, difficulty: "Difficile" },
                { id: 48, code: `x = "d√©veloppeur web"\ny = x.replace("web", "mobile")\nprint(y)`, question: "Quelle est la sortie ?", options: ["d√©veloppeur web", "d√©veloppeur mobile", "mobile d√©veloppeur", "Erreur"], correct: 1, points: 2, difficulty: "Difficile" },
                { id: 49, code: `x = [10, 20, 30]\ny = list(x)\ny.append(40)\nprint(len(x))`, question: "Quelle est la sortie ? (copie)", options: ["3", "4", "7", "Erreur"], correct: 0, points: 2, difficulty: "Difficile" },
                { id: 50, code: `notes = [14, 16, 12, 18]\nmoyenne = sum(notes) / len(notes)\nprint(round(moyenne, 1))`, question: "Quelle est la sortie ?", options: ["15.0", "15.5", "16.0", "14.5"], correct: 0, points: 2, difficulty: "Difficile" },
                { id: 51, code: `x = 3\nif x < 5:\n    print("C")\nelse:\n    print("D")`, question: "Quelle est la sortie ?", options: ["C", "D", "CD", "Rien"], correct: 0, points: 1.5, difficulty: "Moyen" },
                { id: 52, code: `n = 15\nif n % 3 == 0 or n > 20:\n    print("Oui")\nelse:\n    print("Non")`, question: "Quelle est la sortie ?", options: ["Oui", "Non", "True", "False"], correct: 0, points: 1.5, difficulty: "Moyen" },
                { id: 53, code: `score = 85\nif score >= 90:\n    print("Excellent")\nelif score >= 70:\n    print("Bon")\nelif score >= 50:\n    print("Moyen")\nelse:\n    print("Faible")`, question: "Quelle est la sortie ?", options: ["Excellent", "Bon", "Moyen", "Faible"], correct: 1, points: 1.75, difficulty: "Assez Difficile" },
                { id: 54, code: `x = 1\nfor i in range(2, 7):\n    x *= i\nprint(x)`, question: "Quelle est la sortie ?", options: ["120", "720", "24", "6"], correct: 1, points: 1.75, difficulty: "Assez Difficile" },
                { id: 55, code: `compteur = 0\nfor i in range(1, 11):\n    if i % 3 == 0:\n        compteur += 1\nprint(compteur)`, question: "Quelle est la sortie ?", options: ["2", "3", "4", "5"], correct: 1, points: 1.75, difficulty: "Assez Difficile" },
                { id: 56, code: `resultat = 0\nfor i in range(10, 0, -2):\n    resultat += i\nprint(resultat)`, question: "Quelle est la sortie ?", options: ["25", "30", "35", "40"], correct: 1, points: 2, difficulty: "Difficile" },
                { id: 57, code: `i = 10\nwhile i >= 5:\n    i -= 2\nprint(i)`, question: "Quelle est la sortie ?", options: ["5", "4", "6", "3"], correct: 1, points: 1.75, difficulty: "Assez Difficile" },
                { id: 58, code: `x = 1\ni = 1\nwhile i <= 5:\n    x *= i\n    i += 1\nprint(x)`, question: "Quelle est la sortie ?", options: ["5", "24", "120", "720"], correct: 2, points: 2, difficulty: "Difficile" },
                { id: 59, code: `n = 25\nwhile n > 10:\n    n //= 2\nprint(n)`, question: "Quelle est la sortie ?", options: ["6", "12", "3", "25"], correct: 0, points: 1.75, difficulty: "Assez Difficile" },
                { id: 60, code: `for i in range(2):\n    for j in range(3):\n        print(f"{i},{j}", end=" ")`, question: "Quelle est l'ordre de la matrice ?", options: ["5", "6", "3", "2"], correct: 1, points: 2, difficulty: "Difficile" },
                { id: 61, code: `def test3(n):\n    return n ** 3\nprint(test3(3))`, question: "Quelle est la sortie ?", options: ["9", "27", "6", "None"], correct: 1, points: 1.5, difficulty: "Moyen" },
                { id: 62, code: `def test4(prenom):\n    return f"Salut {prenom}!"\nprint(test4("Marie"))`, question: "Quelle est la sortie ?", options: ["Salut", "Marie", "Salut Marie!", "Erreur"], correct: 2, points: 1.5, difficulty: "Moyen" },
                { id: 63, code: `def test5(n):\n    return n > 0\nprint(test5(-5))`, question: "Quelle est la sortie ?", options: ["True", "False", "-5", "0"], correct: 1, points: 1.75, difficulty: "Assez Difficile" },
                { id: 64, code: `def test6(a, b):\n    if a == b:\n        return "√âgaux"\n    return "Diff√©rents"\nprint(test6(7, 7))`, question: "Quelle est la sortie ?", options: ["√âgaux", "Diff√©rents", "7", "None"], correct: 0, points: 1.75, difficulty: "Assez Difficile" },
                { id: 65, code: `def test7(x, y):\n    return x * y, x / y\np, q = test7(12, 3)\nprint(p)`, question: "Quelle est la sortie ?", options: ["12", "3", "36", "4"], correct: 2, points: 2, difficulty: "Difficile" },
                { id: 66, code: `def test8(valeur=0):\n    return valeur + 10\nprint(test8(5))`, question: "Quelle est la sortie ?", options: ["0", "5", "10", "15"], correct: 3, points: 1.75, difficulty: "Assez Difficile" },
                { id: 67, code: `liste = [5, 10, 15, 20]\nfor i in liste:\n    if i > 12:\n        break\n    print(i, end=" ")`, question: "Quelle est la sortie ?", options: ["5 10 15 20", "5 10", "15 20", "10 15"], correct: 1, points: 1.75, difficulty: "Assez Difficile" },
                { id: 68, code: `x = 8\nif x < 10:\n    if x > 5:\n        print("Moyen")\n    else:\n        print("Petit")\nelse:\n    print("Grand")`, question: "Quelle est la sortie ?", options: ["Grand", "Moyen", "Petit", "Erreur"], correct: 1, points: 2, difficulty: "Difficile" },
                { id: 69, code: `def test9(liste):\n    count = 0\n    for n in liste:\n        if n % 2 == 0:\n            count += 1\n    return count\nprint(test9([1, 2, 3, 4, 5, 6]))`, question: "Quelle est la sortie ?", options: ["2", "3", "4", "6"], correct: 1, points: 2, difficulty: "Difficile" },
                { id: 70, code: `for i in range(6):\n    if i == 2 or i == 4:\n        continue\n    print(i, end=" ")`, question: "Quelle est la sortie ?", options: ["0 1 2 3 4 5", "0 1 3 5", "2 4", "1 3 5"], correct: 1, points: 1.75, difficulty: "Assez Difficile" },
                { id: 71, code: `def test10(base, exp):\n    resultat = 1\n    for _ in range(exp):\n        resultat *= base\n    return resultat\nprint(test10(3, 4))`, question: "Quelle est la sortie ?", options: ["12", "27", "81", "64"], correct: 2, points: 2, difficulty: "Difficile" },
                { id: 72, code: `x = 7\nwhile x > 0:\n    if x == 3:\n        break\n    x -= 1\nprint(x)`, question: "Quelle est la sortie ?", options: ["0", "3", "4", "7"], correct: 1, points: 2, difficulty: "Difficile" },
                { id: 73, code: `def test11(lst):\n    total = 0\n    for num in lst:\n        total += num\n    return total / len(lst)\nprint(test11([10, 20, 30]))`, question: "Quelle est la sortie ?", options: ["20.0", "60", "30", "15.0"], correct: 0, points: 2, difficulty: "Difficile" },
                { id: 74, code: `temperature = 28\nif temperature >= 30:\n    categorie = "Chaud"\nelif temperature >= 20:\n    categorie = "Agr√©able"\nelif temperature >= 10:\n    categorie = "Fra√Æche"\nelse:\n    categorie = "Froid"\nprint(categorie)`, question: "Quelle est la sortie ?", options: ["Chaud", "Agr√©able", "Fra√Æche", "Froid"], correct: 1, points: 1.75, difficulty: "Assez Difficile" },
                { id: 75, code: `def test12(n, min_val=0, max_val=100):\n    return min_val <= n <= max_val\nprint(test12(150, 0, 200))`, question: "Quelle est la sortie ?", options: ["True", "False", "150", "None"], correct: 0, points: 2, difficulty: "Difficile" },
                { id: 76, code: `for i in range(4):\n    print(i)\n    if i == 2:\n        break`, question: "Quelle est la sortie ?", options: ["1", "2", "3", "4"], correct: 2, points: 1.75, difficulty: "Assez Difficile" },
                { id: 77, code: `def test13(lst, cf):\n    resultat = []\n    for valeur in lst:\n        resultat.append(valeur * cf)\n    return resultat\nprint(test13([1, 2, 3], 3))`, question: "Quelle est la sortie ?", options: ["[1, 2, 3]", "[3, 6, 9]", "[4, 5, 6]", "6"], correct: 1, points: 2.5, difficulty: "Difficile" },
                { id: 78, code: `x = 50\nwhile x >= 30:\n    x -= 5\nprint(x)`, question: "Quelle est la sortie ?", options: ["25", "30", "35", "40"], correct: 0, points: 2, difficulty: "Difficile" },
                { id: 79, code: `def test14(texte):\n    voyelles = "aeiouAEIOU"\n    count = 0\n    for char in texte:\n        if char.isalpha() and char not in voyelles:\n            count += 1\n    return count\nprint(test14("Informatique"))`, question: "Quelle est la sortie ?", options: ["2", "3", "6", "5"], correct: 2, points: 2.5, difficulty: "Difficile" },
                { id: 80, code: `def test15(lst):\n    resultat = []\n    for i in range(len(lst)):\n        resultat.append(lst[i] * 2)\n    return resultat\nprint(test15([2, 4, 6]))`, question: "Quelle est la sortie ?", options: ["[2, 4, 6]", "[4, 8, 12]", "[4, 6, 8]", "Erreur"], correct: 1, points: 2.5, difficulty: "Difficile" },
            ]
        };

        // Composant de navigation rapide
        function QuickNavigation({ questions, currentQuestion, answers, onQuestionSelect }) {
            const questionsToUse = questions.length > 0 ? questions : QUIZ_CONFIG.questions;
            
            return (
                <div className="quick-nav-container slide-in">
                    <div className="flex items-center justify-between mb-4">
                        <h3 className="text-lg font-bold text-gray-800">
                            <i className="fas fa-list-ol mr-2 text-indigo-500"></i>
                            Navigation Rapide
                        </h3>
                        <span className="text-sm text-gray-500">
                            {Object.keys(answers).length}/{questionsToUse.length}
                        </span>
                    </div>
                    
                    <div className="grid grid-cols-5 gap-2">
                        {questionsToUse.map((q, index) => {
                            const isAnswered = answers[q.id] !== undefined;
                            const isCurrent = index === currentQuestion;
                            
                            let btnClass = "quick-nav-btn ";
                            if (isCurrent) {
                                btnClass += "border-indigo-500 bg-indigo-500 text-white shadow-lg";
                            } else if (isAnswered) {
                                btnClass += "border-green-500 bg-green-100 text-green-700";
                            } else {
                                btnClass += "border-gray-300 bg-gray-100 text-gray-600 hover:bg-gray-200";
                            }
                            
                            return (
                                <button
                                    key={q.id}
                                    onClick={() => onQuestionSelect(index)}
                                    className={btnClass}
                                    title={`Question ${index + 1}${isAnswered ? " (R√©pondue)" : " (Non r√©pondue)"}`}
                                >
                                    {index + 1}
                                </button>
                            );
                        })}
                    </div>
                    
                    <div className="mt-4 pt-3 border-t border-gray-200">
                        <div className="flex items-center justify-center space-x-4 text-xs text-gray-600">
                            <div className="flex items-center">
                                <div className="w-3 h-3 rounded-full bg-indigo-500 mr-1"></div>
                                <span>Actuelle</span>
                            </div>
                            <div className="flex items-center">
                                <div className="w-3 h-3 rounded-full bg-green-500 mr-1"></div>
                                <span>R√©pondu</span>
                            </div>
                            <div className="flex items-center">
                                <div className="w-3 h-3 rounded-full bg-gray-300 mr-1"></div>
                                <span>Non r√©pondu</span>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        function PythonQuizApp() {
            const [screen, setScreen] = useState('access');
            const [accessCodeInput, setAccessCodeInput] = useState('');
            const [studentInfo, setStudentInfo] = useState({ nom: '', prenom: '', classe: '' });
            const [currentQuestion, setCurrentQuestion] = useState(0);
            const [answers, setAnswers] = useState({});
            const [timeLeft, setTimeLeft] = useState(QUIZ_CONFIG.duration);
            const [tabSwitches, setTabSwitches] = useState(0);
            const [warnings, setWarnings] = useState([]);
            const [sessionId, setSessionId] = useState(null);
            const [isBlocked, setIsBlocked] = useState(false);
            const [showDetailedResults, setShowDetailedResults] = useState(false);
            const [shuffledQuestions, setShuffledQuestions] = useState([]);

            // Activer les protections au montage du composant
            useEffect(() => {
                disableDevTools();
                return () => {
                    stopConsoleProtection();
                };
            }, []);

            // Activer la protection console pendant le quiz
            useEffect(() => {
                if (screen === 'quiz') {
                    startConsoleProtection();
                } else {
                    stopConsoleProtection();
                }
            }, [screen]);

            // Gestion du plein √©cran pendant le quiz
            useEffect(() => {
                if (screen === 'quiz') {
                    // Passer en plein √©cran au d√©marrage du quiz
                    enterFullscreen();

                    // √âcouter la touche ESC
                    const handleEscKey = async (e) => {
                        if (e.key === 'Escape') {
                            e.preventDefault();
                            await handleFullscreenExit();
                        }
                    };

                    // √âcouter les tentatives de sortie du plein √©cran
                    const handleFullscreenChange = async () => {
                        if (!isFullscreen() && screen === 'quiz') {
                            // L'√©tudiant a quitt√© le plein √©cran (F11, ESC, etc.)
                            const allowed = await handleFullscreenExit();
                            if (!allowed) {
                                // Remettre en plein √©cran si le code est refus√©
                                setTimeout(() => {
                                    if (screen === 'quiz' && !isFullscreen()) {
                                        enterFullscreen();
                                    }
                                }, 100);
                            }
                        }
                    };

                    document.addEventListener('keydown', handleEscKey);
                    document.addEventListener('fullscreenchange', handleFullscreenChange);
                    document.addEventListener('webkitfullscreenchange', handleFullscreenChange);
                    document.addEventListener('mozfullscreenchange', handleFullscreenChange);
                    document.addEventListener('MSFullscreenChange', handleFullscreenChange);

                    return () => {
                        document.removeEventListener('keydown', handleEscKey);
                        document.removeEventListener('fullscreenchange', handleFullscreenChange);
                        document.removeEventListener('webkitfullscreenchange', handleFullscreenChange);
                        document.removeEventListener('mozfullscreenchange', handleFullscreenChange);
                        document.removeEventListener('MSFullscreenChange', handleFullscreenChange);
                    };
                } else if (screen === 'results') {
                    // Sortir du plein √©cran √† la fin du quiz
                    exitFullscreen();
                }
            }, [screen]);

            useEffect(() => {
                if (screen === 'quiz' && timeLeft > 0 && !isBlocked) {
                    const timer = setInterval(() => {
                        setTimeLeft(prev => {
                            if (prev <= 1) {
                                handleSubmitQuiz();
                                return 0;
                            }
                            return prev - 1;
                        });
                    }, 1000);
                    return () => clearInterval(timer);
                }
            }, [screen, timeLeft, isBlocked]);

            useEffect(() => {
                if (screen === 'quiz' && !isBlocked) {
                    const handleVisibilityChange = async () => {
                        if (document.hidden) {
                            const newCount = tabSwitches + 1;
                            setTabSwitches(newCount);
                            const warning = `Changement d'onglet √† ${formatTime(QUIZ_CONFIG.duration - timeLeft)}`;
                            setWarnings(prev => [...prev, warning]);
                            
                            if (sessionId) {
                                await db.collection('quiz_sessions').doc(sessionId).update({
                                    tabSwitches: newCount,
                                    lastWarning: warning,
                                    warnings: firebase.firestore.FieldValue.arrayUnion(warning)
                                });
                            }

                            setIsBlocked(true);
                            
                            const { value: code } = await Swal.fire({
                                icon: 'error',
                                title: '‚ö†Ô∏è QUIZ BLOQU√â !',
                                html: `
                                    <div class="text-center">
                                        <i class="fas fa-ban text-6xl text-red-500 mb-4"></i>
                                        <p class="text-xl font-bold text-red-600 mb-2">Changement d'onglet d√©tect√© !</p>
                                        <p class="text-gray-600 mb-4">Le quiz est temporairement bloqu√©.</p>
                                        <p class="text-sm text-gray-500">Demandez le code de reprise √† votre enseignant</p>
                                    </div>
                                `,
                                input: 'password',
                                inputLabel: 'Code de d√©blocage',
                                inputPlaceholder: 'Entrez le code fourni',
                                showCancelButton: false,
                                allowOutsideClick: false,
                                allowEscapeKey: false,
                                inputValidator: (value) => {
                                    if (!value) return 'Le code est requis pour continuer';
                                }
                            });

                            const codeHash = await hashCode(code);
                            if (codeHash === RECOVERY_CODE_HASH) {
                                setIsBlocked(false);
                                Swal.fire({
                                    icon: 'success',
                                    title: 'Quiz d√©bloqu√©',
                                    text: 'Vous pouvez reprendre le quiz',
                                    timer: 2000,
                                    showConfirmButton: false
                                });
                            } else {
                                Swal.fire({
                                    icon: 'error',
                                    title: 'Code incorrect',
                                    text: 'Veuillez contacter votre enseignant',
                                    allowOutsideClick: false
                                }).then(() => window.location.reload());
                            }
                        }
                    };

                    document.addEventListener('visibilitychange', handleVisibilityChange);
                    return () => document.removeEventListener('visibilitychange', handleVisibilityChange);
                }
            }, [screen, tabSwitches, timeLeft, isBlocked, sessionId]);

            const formatTime = (seconds) => {
                const mins = Math.floor(seconds / 60);
                const secs = seconds % 60;
                return `${mins}:${secs.toString().padStart(2, '0')}`;
            };

            const handleAccessCodeSubmit = async () => {
                const inputHash = await hashCode(accessCodeInput);
                if (inputHash === ACCESS_CODE_HASH) {
                    setScreen('start');
                    Swal.fire({
                        icon: 'success',
                        title: 'Acc√®s autoris√©',
                        text: 'Vous pouvez maintenant entrer vos informations',
                        timer: 2000,
                        showConfirmButton: false
                    });
                } else {
                    Swal.fire({
                        icon: 'error',
                        title: 'Code incorrect',
                        text: 'Veuillez v√©rifier le code fourni par votre enseignant'
                    });
                }
            };

            const handleStartQuiz = async () => {
                if (!studentInfo.nom || !studentInfo.prenom || !studentInfo.classe) {
                    Swal.fire({
                        icon: 'warning',
                        title: 'Informations incompl√®tes',
                        text: 'Veuillez remplir tous les champs obligatoires'
                    });
                    return;
                }

                const result = await Swal.fire({
                    icon: 'info',
                    title: 'Confirmation',
                    html: `
                        <div class="text-center">
                            <i class="fas fa-play-circle text-5xl text-indigo-500 mb-4"></i>
                            <p class="text-lg font-semibold mb-4">Pr√™t √† commencer ?</p>
                            <div class="bg-yellow-50 rounded-lg p-4 text-left">
                                <p class="font-semibold text-yellow-800 mb-2">‚ö†Ô∏è R√®gles importantes :</p>
                                <ul class="list-disc list-inside text-sm text-yellow-700 space-y-1">
                                    <li>50 minutes - 80 questions</li>
                                    <li>Ne pas changer d'onglet</li>
                                    <li>-2 points par tentative</li>
                                    <li>Quiz bloqu√© en cas de changement</li>
                                </ul>
                            </div>
                        </div>
                    `,
                    showCancelButton: true,
                    confirmButtonText: 'Commencer le quiz',
                    cancelButtonText: 'Annuler'
                });

                if (result.isConfirmed) {
                    // M√©langer les questions de mani√®re al√©atoire pour cet √©tudiant
                    const shuffled = shuffleArray(QUIZ_CONFIG.questions);
                    setShuffledQuestions(shuffled);
                    
                    try {
                        const sessionRef = await db.collection('quiz_sessions').add({
                            etudiant: `${studentInfo.prenom} ${studentInfo.nom}`,
                            classe: studentInfo.classe,
                            status: 'started',
                            startTime: firebase.firestore.FieldValue.serverTimestamp(),
                            tabSwitches: 0,
                            warnings: [],
                            currentQuestion: 0,
                            questionOrder: shuffled.map(q => q.id) // Sauvegarder l'ordre des questions
                        });
                        setSessionId(sessionRef.id);
                    } catch (error) {
                        console.error("Erreur cr√©ation session:", error);
                    }

                    setScreen('quiz');
                }
            };

            const handleAnswer = (questionId, answerIndex) => {
                setAnswers(prev => ({ ...prev, [questionId]: answerIndex }));
                
                if (sessionId) {
                    db.collection('quiz_sessions').doc(sessionId).update({
                        currentQuestion: currentQuestion + 1,
                        updatedAt: firebase.firestore.FieldValue.serverTimestamp()
                    });
                }
            };

            const calculateScore = () => {
                let totalPoints = 0;
                let maxPoints = 0;
                let correct = 0;
                
                const questionsToUse = shuffledQuestions.length > 0 ? shuffledQuestions : QUIZ_CONFIG.questions;
                
                questionsToUse.forEach(q => {
                    maxPoints += q.points;
                    if (answers[q.id] === q.correct) {
                        totalPoints += q.points;
                        correct++;
                    }
                });

                let noteSur20 = (totalPoints / maxPoints) * 20;
                const penalty = tabSwitches * QUIZ_CONFIG.penaltyPerWarning;
                noteSur20 = Math.max(0, noteSur20 - penalty);

                return {
                    correct,
                    total: questionsToUse.length,
                    totalPoints: totalPoints.toFixed(2),
                    maxPoints: maxPoints,
                    noteSur20: noteSur20.toFixed(2),
                    penalty: penalty,
                    percentage: ((correct / questionsToUse.length) * 100).toFixed(2)
                };
            };

            const handleSubmitQuiz = async () => {
                setScreen('results');
                
                const results = calculateScore();
                const questionsToUse = shuffledQuestions.length > 0 ? shuffledQuestions : QUIZ_CONFIG.questions;
                
                const exportData = {
                    etudiant: `${studentInfo.prenom} ${studentInfo.nom}`,
                    classe: studentInfo.classe,
                    note: results.noteSur20,
                    pourcentage: results.percentage,
                    correct: results.correct,
                    total: results.total,
                    points: results.totalPoints,
                    maxPoints: results.maxPoints,
                    tentativesTriche: tabSwitches,
                    penalite: results.penalty,
                    dateTest: new Date().toLocaleString('fr-FR'),
                    timestamp: firebase.firestore.FieldValue.serverTimestamp(),
                    duree: formatTime(QUIZ_CONFIG.duration - timeLeft),
                    avertissements: warnings,
                    detailsReponses: questionsToUse.map(q => ({
                        question: q.id,
                        code: q.code,
                        questionText: q.question,
                        reponse: answers[q.id] !== undefined ? answers[q.id] : -1,
                        reponseText: answers[q.id] !== undefined ? q.options[answers[q.id]] : "Non r√©pondue",
                        correct: q.correct,
                        correctText: q.options[q.correct],
                        estCorrecte: answers[q.id] === q.correct,
                        points: answers[q.id] === q.correct ? q.points : 0,
                        difficulte: q.difficulty
                    }))
                };

                try {
                    await db.collection('results').add(exportData);
                    
                    if (sessionId) {
                        await db.collection('quiz_sessions').doc(sessionId).update({
                            status: 'completed',
                            endTime: firebase.firestore.FieldValue.serverTimestamp(),
                            finalNote: results.noteSur20
                        });
                    }
                } catch (error) {
                    console.error('Erreur Firebase:', error);
                }
            };

            // √âCRAN D'ACC√àS
            if (screen === 'access') {
                return (
                    <div className="min-h-screen flex items-center justify-center p-4">
                        <div className="slide-in glass-effect rounded-3xl shadow-2xl p-8 md:p-12 max-w-md w-full">
                            <div className="text-center mb-8">
                                <div className="inline-flex items-center justify-center w-32 h-32 bg-white bg-opacity-20 rounded-full mb-6 float-animation overflow-hidden p-2">
                                    <img src="isi_logo.png" alt="ISI Keur Massar Logo" className="w-full h-full object-contain" />
                                </div>
                                <h1 className="text-4xl font-bold text-white mb-3">Quiz Python - Deuxi√®me Devoir</h1>
                                <p className="text-white text-opacity-90 text-lg mb-2">ISI Keur Massar - Licence 2</p>
                                <p className="text-white text-opacity-70">Code d'acc√®s requis</p>
                            </div>

                            <div className="space-y-6">
                                <div className="relative">
                                    <div className="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                                        <i className="fas fa-key text-white text-opacity-50"></i>
                                    </div>
                                    <input
                                        type="password"
                                        value={accessCodeInput}
                                        onChange={(e) => setAccessCodeInput(e.target.value)}
                                        onKeyPress={(e) => e.key === 'Enter' && handleAccessCodeSubmit()}
                                        className="w-full pl-12 pr-4 py-4 bg-white bg-opacity-20 border-2 border-white border-opacity-30 rounded-xl text-white text-lg placeholder-white placeholder-opacity-60 focus:outline-none focus:border-opacity-60 transition"
                                        placeholder="Entrez le code d'acc√®s"
                                    />
                                </div>

                                <button
                                    onClick={handleAccessCodeSubmit}
                                    className="w-full bg-white text-indigo-600 py-4 rounded-xl font-bold text-lg hover:bg-opacity-90 transform hover:scale-105 transition-all duration-300 shadow-xl pulse-glow"
                                >
                                    <i className="fas fa-unlock mr-2"></i>
                                    Acc√©der au Quiz
                                </button>
                            </div>

                            <div className="mt-8 pt-6 border-t border-white border-opacity-20">
                                <div className="flex items-center justify-center space-x-4 text-white text-opacity-70 text-sm">
                                    <div className="flex items-center">
                                        <i className="fas fa-shield-alt mr-2"></i>
                                        <span>S√©curis√©</span>
                                    </div>
                                    <div className="w-1 h-1 bg-white bg-opacity-50 rounded-full"></div>
                                    <div className="flex items-center">
                                        <i className="fas fa-clock mr-2"></i>
                                        <span>50 min</span>
                                    </div>
                                    <div className="w-1 h-1 bg-white bg-opacity-50 rounded-full"></div>
                                    <div className="flex items-center">
                                        <i className="fas fa-question-circle mr-2"></i>
                                        <span>80 questions</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                );
            }

            // √âCRAN D'INSCRIPTION
            if (screen === 'start') {
                return (
                    <div className="min-h-screen flex items-center justify-center p-4">
                        <div className="slide-in bg-white bg-opacity-95 backdrop-blur-xl rounded-3xl shadow-2xl p-8 md:p-12 max-w-lg w-full">
                            <div className="text-center mb-8">
                                <div className="inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl mb-6 float-animation">
                                    <i className="fab fa-python text-4xl text-white"></i>
                                </div>
                                <h1 className="text-3xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent mb-2">
                                    {QUIZ_CONFIG.title} - Deuxi√®me Devoir
                                </h1>
                                <p className="text-gray-600 flex items-center justify-center gap-4">
                                    <span><i className="far fa-clock mr-1"></i> 50 minutes</span>
                                    <span><i className="fas fa-question-circle mr-1"></i> 80 questions</span>
                                </p>
                            </div>

                            <div className="bg-gradient-to-r from-yellow-50 to-orange-50 border-l-4 border-yellow-500 rounded-xl p-4 mb-6">
                                <div className="flex">
                                    <i className="fas fa-exclamation-triangle text-yellow-600 text-xl mr-3 mt-1"></i>
                                    <div>
                                        <p className="font-bold text-yellow-800 mb-2">R√®gles importantes</p>
                                        <ul className="text-sm text-yellow-700 space-y-1">
                                            <li>‚Ä¢ Ne pas changer d'onglet pendant le quiz</li>
                                            <li>‚Ä¢ Le quiz se bloque automatiquement</li>
                                            <li>‚Ä¢ P√©nalit√© de 2 points par tentative</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>

                            <div className="space-y-5">
                                <div>
                                    <label className="block text-sm font-semibold text-gray-700 mb-2">
                                        <i className="fas fa-user mr-2 text-indigo-500"></i>
                                        Pr√©nom
                                    </label>
                                    <input
                                        type="text"
                                        value={studentInfo.prenom}
                                        onChange={(e) => setStudentInfo(prev => ({ ...prev, prenom: e.target.value }))}
                                        className="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition"
                                        placeholder="Votre pr√©nom"
                                    />
                                </div>

                                <div>
                                    <label className="block text-sm font-semibold text-gray-700 mb-2">
                                        <i className="fas fa-id-card mr-2 text-indigo-500"></i>
                                        Nom
                                    </label>
                                    <input
                                        type="text"
                                        value={studentInfo.nom}
                                        onChange={(e) => setStudentInfo(prev => ({ ...prev, nom: e.target.value }))}
                                        className="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition"
                                        placeholder="Votre nom"
                                    />
                                </div>

                                <div>
                                    <label className="block text-sm font-semibold text-gray-700 mb-2">
                                        <i className="fas fa-graduation-cap mr-2 text-indigo-500"></i>
                                        Classe
                                    </label>
                                    <select
                                        value={studentInfo.classe}
                                        onChange={(e) => setStudentInfo(prev => ({ ...prev, classe: e.target.value }))}
                                        className="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition"
                                    >
                                        <option value="">S√©lectionnez votre classe</option>
                                        <option value="L2-IAGE">L2 - IAGE</option>
                                        <option value="L2-GL">L2 - GL</option>
                                    </select>
                                </div>

                                <button
                                    onClick={handleStartQuiz}
                                    className="w-full bg-gradient-to-r from-indigo-500 to-purple-600 text-white py-4 rounded-xl font-bold text-lg hover:from-indigo-600 hover:to-purple-700 transform hover:scale-105 transition-all duration-300 shadow-xl pulse-glow"
                                >
                                    <i className="fas fa-rocket mr-2"></i>
                                    Commencer le Quiz
                                </button>
                            </div>

                            <div className="mt-8 pt-6 border-t border-gray-200 text-center">
                                <a href="admin.html" className="text-sm text-gray-500 hover:text-indigo-600 transition-colors inline-flex items-center">
                                    <i className="fas fa-user-shield mr-1"></i>
                                    Espace administration
                                </a>
                            </div>
                        </div>
                    </div>
                );
            }

            // √âCRAN DU QUIZ
            if (screen === 'quiz') {
                const questionsToUse = shuffledQuestions.length > 0 ? shuffledQuestions : QUIZ_CONFIG.questions;
                const question = questionsToUse[currentQuestion];
                const progress = ((currentQuestion + 1) / questionsToUse.length) * 100;
                const difficultyColors = {
                    'Facile': 'bg-green-100 text-green-700 border-green-300',
                    'Assez Facile': 'bg-blue-100 text-blue-700 border-blue-300',
                    'Moyen': 'bg-yellow-100 text-yellow-700 border-yellow-300',
                    'Assez Difficile': 'bg-orange-100 text-orange-700 border-orange-300',
                    'Difficile': 'bg-red-100 text-red-700 border-red-300'
                };

                return (
                    <div className="min-h-screen">
                        {/* BANNI√àRE MODE PLEIN √âCRAN */}
                        <div className="fixed top-0 left-0 right-0 bg-gradient-to-r from-red-600 to-orange-600 text-white py-2 px-4 z-50 shadow-lg">
                            <div className="flex items-center justify-center gap-3 text-sm font-semibold">
                                <i className="fas fa-expand text-lg"></i>
                                <span>MODE PLEIN √âCRAN ACTIF</span>
                                <span className="text-xs bg-white bg-opacity-20 px-3 py-1 rounded-full">
                                    Appuyez sur ESC pour quitter (code requis)
                                </span>
                            </div>
                        </div>

                        {/* HEADER */}
                        <div className="bg-white bg-opacity-95 backdrop-blur-xl shadow-lg sticky top-10 z-40" style={{ marginTop: '40px' }}>
                            <div className="max-w-7xl mx-auto px-4 py-4">
                                <div className="flex flex-col md:flex-row md:items-center justify-between gap-4">
                                    <div className="flex items-center space-x-4">
                                        <div className="w-14 h-14 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg">
                                            <i className="fas fa-user-graduate text-2xl text-white"></i>
                                        </div>
                                        <div>
                                            <h2 className="text-xl font-bold text-gray-800">{studentInfo.prenom} {studentInfo.nom}</h2>
                                            <p className="text-gray-600 text-sm">
                                                <i className="fas fa-graduation-cap mr-1"></i>
                                                {studentInfo.classe}
                                            </p>
                                        </div>
                                    </div>

                                    <div className="flex items-center gap-4">
                                        {tabSwitches > 0 && (
                                            <div className="flex items-center bg-red-50 px-4 py-2 rounded-xl border-2 border-red-200">
                                                <i className="fas fa-exclamation-triangle text-red-500 mr-2"></i>
                                                <span className="font-bold text-red-600">{tabSwitches} avertissement(s)</span>
                                            </div>
                                        )}
                                        
                                        <div className={`flex items-center gap-3 px-4 py-2 rounded-xl ${timeLeft < 600 ? 'bg-red-50 border-2 border-red-200' : 'bg-indigo-50 border-2 border-indigo-200'}`}>
                                            <i className={`far fa-clock text-2xl ${timeLeft < 600 ? 'text-red-500 animate-pulse' : 'text-indigo-500'}`}></i>
                                            <div>
                                                <div className={`text-2xl font-bold ${timeLeft < 600 ? 'text-red-600' : 'text-gray-800'}`}>
                                                    {formatTime(timeLeft)}
                                                </div>
                                                <div className="text-xs text-gray-500">Temps restant</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                {/* Barre de progression */}
                                <div className="mt-4">
                                    <div className="flex justify-between items-center mb-2">
                                        <span className="text-sm font-semibold text-gray-700">
                                            <i className="fas fa-list mr-1"></i>
                                            Question {currentQuestion + 1} sur {questionsToUse.length}
                                        </span>
                                        <div className="flex items-center gap-2">
                                            <span className={`px-3 py-1 rounded-full text-xs font-semibold border-2 ${difficultyColors[question.difficulty]}`}>
                                                {question.difficulty}
                                            </span>
                                            <span className="px-3 py-1 rounded-full text-xs font-semibold bg-purple-100 text-purple-700 border-2 border-purple-300">
                                                <i className="fas fa-star mr-1"></i>
                                                {question.points} pt
                                            </span>
                                        </div>
                                    </div>
                                    <div className="w-full bg-gray-200 rounded-full h-3 overflow-hidden">
                                        <div 
                                            className="bg-gradient-to-r from-green-400 via-blue-500 to-purple-600 h-3 rounded-full transition-all duration-500"
                                            style={{ width: `${progress}%` }}
                                        ></div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        {/* CONTENU PRINCIPAL AVEC NAVIGATION */}
                        <div className="flex flex-col lg:flex-row max-w-7xl mx-auto px-4 py-8">
                            {/* QUESTION */}
                            <div className="flex-1 lg:pr-8">
                                <div className="slide-in bg-white bg-opacity-95 backdrop-blur-xl rounded-3xl shadow-2xl p-6 md:p-10">
                                    <h3 className="text-2xl md:text-3xl font-bold text-gray-800 mb-8">
                                        <i className="fas fa-code text-indigo-500 mr-3"></i>
                                        {question.question}
                                    </h3>
                                    
                                    {/* CODE EDITOR */}
                                    <div className="code-editor rounded-2xl overflow-hidden mb-8 shadow-xl">
                                        <div className="bg-gray-800 px-6 py-3 flex items-center justify-between">
                                            <div className="flex items-center space-x-2">
                                                <div className="w-3 h-3 bg-red-500 rounded-full"></div>
                                                <div className="w-3 h-3 bg-yellow-500 rounded-full"></div>
                                                <div className="w-3 h-3 bg-green-500 rounded-full"></div>
                                            </div>
                                            <div className="flex items-center text-gray-400 text-sm">
                                                <i className="fab fa-python mr-2"></i>
                                                Python 3
                                            </div>
                                        </div>
                                        <div className="bg-gray-900 px-6 py-6">
                                            <pre className="text-green-400 text-base md:text-lg overflow-x-auto">{question.code}</pre>
                                        </div>
                                    </div>

                                    {/* OPTIONS */}
                                    <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                        {question.options.map((option, index) => (
                                            <button
                                                key={index}
                                                onClick={() => handleAnswer(question.id, index)}
                                                className={`group p-6 rounded-2xl border-2 transition-all duration-300 transform hover:-translate-y-1 ${
                                                    answers[question.id] === index 
                                                        ? 'border-indigo-500 bg-gradient-to-r from-indigo-50 to-purple-50 shadow-xl' 
                                                        : 'border-gray-200 hover:border-indigo-300 hover:shadow-lg bg-white'
                                                }`}
                                            >
                                                <div className="flex items-center">
                                                    <div className={`w-12 h-12 rounded-xl flex items-center justify-center mr-4 transition-all ${
                                                        answers[question.id] === index 
                                                            ? 'bg-gradient-to-r from-indigo-500 to-purple-600 text-white shadow-lg' 
                                                            : 'bg-gray-100 text-gray-600 group-hover:bg-indigo-100 group-hover:text-indigo-600'
                                                    }`}>
                                                        <span className="font-bold text-lg">{String.fromCharCode(65 + index)}</span>
                                                    </div>
                                                    <div className="flex-1 text-left">
                                                        <p className="text-base md:text-lg font-medium text-gray-800">{option}</p>
                                                    </div>
                                                    {answers[question.id] === index && (
                                                        <i className="fas fa-check-circle text-indigo-500 text-2xl"></i>
                                                    )}
                                                </div>
                                            </button>
                                        ))}
                                    </div>
                                </div>

                                {/* NAVIGATION */}
                                <div className="flex justify-between mt-8">
                                    <button
                                        onClick={() => setCurrentQuestion(prev => Math.max(0, prev - 1))}
                                        disabled={currentQuestion === 0}
                                        className="px-6 py-3 bg-white bg-opacity-90 backdrop-blur text-gray-700 rounded-xl font-semibold hover:bg-opacity-100 disabled:opacity-50 disabled:cursor-not-allowed transition shadow-lg flex items-center"
                                    >
                                        <i className="fas fa-arrow-left mr-2"></i>
                                        Pr√©c√©dent
                                    </button>

                                    {currentQuestion < questionsToUse.length - 1 ? (
                                        <button
                                            onClick={() => setCurrentQuestion(prev => prev + 1)}
                                            className="px-6 py-3 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-xl font-semibold hover:from-indigo-600 hover:to-purple-700 transition shadow-lg flex items-center"
                                        >
                                            Suivant
                                            <i className="fas fa-arrow-right ml-2"></i>
                                        </button>
                                    ) : (
                                        <button
                                            onClick={handleSubmitQuiz}
                                            className="px-8 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-xl font-semibold hover:from-green-600 hover:to-emerald-700 transition shadow-lg flex items-center pulse-glow"
                                        >
                                            <i className="fas fa-flag-checkered mr-2"></i>
                                            Terminer
                                        </button>
                                    )}
                                </div>
                            </div>

                            {/* NAVIGATION RAPIDE */}
                            <div className="lg:w-80 mt-8 lg:mt-0">
                                <QuickNavigation 
                                    questions={shuffledQuestions}
                                    currentQuestion={currentQuestion}
                                    answers={answers}
                                    onQuestionSelect={(index) => setCurrentQuestion(index)}
                                />
                            </div>
                        </div>
                    </div>
                );
            }

            // √âCRAN DES R√âSULTATS
            if (screen === 'results') {
                const score = calculateScore();
                const isPassed = parseFloat(score.noteSur20) >= 10;
                const questionsToUse = shuffledQuestions.length > 0 ? shuffledQuestions : QUIZ_CONFIG.questions;
                const correctQuestions = questionsToUse.filter(q => answers[q.id] === q.correct);
                const incorrectQuestions = questionsToUse.filter(q => answers[q.id] !== undefined && answers[q.id] !== q.correct);
                const unansweredQuestions = questionsToUse.filter(q => answers[q.id] === undefined);

                return (
                    <div className="min-h-screen py-8 px-4">
                        <div className="max-w-5xl mx-auto">
                            <div className="slide-in bg-white bg-opacity-95 backdrop-blur-xl rounded-3xl shadow-2xl overflow-hidden">
                                {/* HEADER R√âSULTATS */}
                                <div className={`${isPassed ? 'bg-gradient-to-r from-green-500 to-emerald-600' : 'bg-gradient-to-r from-orange-500 to-red-600'} text-white p-8 md:p-12 text-center`}>
                                    <div className="inline-flex items-center justify-center w-28 h-28 bg-white bg-opacity-20 rounded-full mb-6 float-animation">
                                        <i className={`fas ${isPassed ? 'fa-trophy' : 'fa-chart-line'} text-5xl`}></i>
                                    </div>
                                    <h1 className="text-4xl md:text-5xl font-bold mb-3">
                                        {isPassed ? 'F√©licitations !' : 'Quiz Termin√©'}
                                    </h1>
                                    <p className="text-white text-opacity-90 text-lg">
                                        {studentInfo.prenom} {studentInfo.nom} ‚Ä¢ {studentInfo.classe}
                                    </p>
                                </div>

                                {/* SCORE PRINCIPAL */}
                                <div className="p-8 md:p-12">
                                    <div className="text-center mb-12">
                                        <div className="inline-flex items-baseline justify-center mb-4">
                                            <span className="text-7xl md:text-8xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent">
                                                {score.noteSur20}
                                            </span>
                                            <span className="text-4xl text-gray-400 ml-3">/20</span>
                                        </div>
                                        <p className="text-xl text-gray-600 mb-6">
                                            <i className="fas fa-check-circle text-green-500 mr-2"></i>
                                            {score.correct} r√©ponses correctes sur {score.total}
                                        </p>

                                        {score.penalty > 0 && (
                                            <div className="inline-flex items-center bg-red-50 px-6 py-3 rounded-2xl border-2 border-red-200 mb-8">
                                                <i className="fas fa-exclamation-triangle text-red-500 mr-2 text-xl"></i>
                                                <span className="text-red-600 font-bold">P√©nalit√© appliqu√©e : -{score.penalty} points</span>
                                            </div>
                                        )}
                                    </div>

                                    {/* STATISTIQUES */}
                                    <div className="grid grid-cols-2 md:grid-cols-4 gap-4 mb-10">
                                        <div className="bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-2xl border-2 border-blue-200">
                                            <div className="text-4xl font-bold text-blue-600 mb-2">{score.percentage}%</div>
                                            <div className="text-gray-700 text-sm font-semibold">Taux de r√©ussite</div>
                                        </div>
                                        <div className="bg-gradient-to-br from-green-50 to-green-100 p-6 rounded-2xl border-2 border-green-200">
                                            <div className="text-4xl font-bold text-green-600 mb-2">{score.correct}</div>
                                            <div className="text-gray-700 text-sm font-semibold">Correctes</div>
                                        </div>
                                        <div className="bg-gradient-to-br from-red-50 to-red-100 p-6 rounded-2xl border-2 border-red-200">
                                            <div className="text-4xl font-bold text-red-600 mb-2">{incorrectQuestions.length}</div>
                                            <div className="text-gray-700 text-sm font-semibold">Incorrectes</div>
                                        </div>
                                        <div className="bg-gradient-to-br from-purple-50 to-purple-100 p-6 rounded-2xl border-2 border-purple-200">
                                            <div className="text-4xl font-bold text-purple-600 mb-2">{score.totalPoints}</div>
                                            <div className="text-gray-700 text-sm font-semibold">Points obtenus</div>
                                        </div>
                                    </div>

                                    {/* ACTIONS */}
                                    <div className="space-y-4">
                                        <button
                                            onClick={() => setShowDetailedResults(!showDetailedResults)}
                                            className="w-full bg-gradient-to-r from-indigo-500 to-purple-600 text-white py-4 rounded-xl font-bold text-lg hover:from-indigo-600 hover:to-purple-700 transition-all shadow-xl flex items-center justify-center"
                                        >
                                            <i className={`fas ${showDetailedResults ? 'fa-eye-slash' : 'fa-chart-bar'} mr-2`}></i>
                                            {showDetailedResults ? 'Masquer les d√©tails' : 'Voir les d√©tails des r√©ponses'}
                                        </button>

                                        <button
                                            onClick={() => window.location.reload()}
                                            className="w-full bg-white border-2 border-gray-200 text-gray-700 py-4 rounded-xl font-bold text-lg hover:bg-gray-50 transition-all shadow-lg"
                                        >
                                            <i className="fas fa-home mr-2"></i>
                                            Retour √† l'accueil
                                        </button>
                                    </div>

                                    {/* D√âTAILS DES R√âPONSES */}
                                    {showDetailedResults && (
                                        <div className="mt-10 space-y-6">
                                            <h3 className="text-2xl font-bold text-gray-800 mb-6 flex items-center">
                                                <i className="fas fa-list-ul mr-3 text-indigo-500"></i>
                                                D√©tails des R√©ponses
                                            </h3>

                                            {correctQuestions.length > 0 && (
                                                <div className="bg-green-50 rounded-2xl p-6 border-2 border-green-200">
                                                    <h4 className="text-xl font-bold text-green-700 mb-4 flex items-center">
                                                        <i className="fas fa-check-circle mr-2"></i>
                                                        R√©ponses Correctes ({correctQuestions.length})
                                                    </h4>
                                                    <div className="space-y-3">
                                                        {correctQuestions.map((q) => (
                                                            <div key={q.id} className="bg-white rounded-xl p-4 border-l-4 border-green-500">
                                                                <div className="flex justify-between items-start mb-2">
                                                                    <span className="font-semibold text-gray-800">Question {q.id}</span>
                                                                    <span className="bg-green-500 text-white px-3 py-1 rounded-full text-sm font-bold">
                                                                        +{q.points} pts
                                                                    </span>
                                                                </div>
                                                                <p className="text-sm text-gray-700 mb-2">{q.question}</p>
                                                                <div className="bg-gray-900 rounded-lg p-3 mb-2">
                                                                    <pre className="text-green-400 text-xs overflow-x-auto">{q.code}</pre>
                                                                </div>
                                                                <div className="text-sm text-green-600 flex items-center">
                                                                    <i className="fas fa-check mr-2"></i>
                                                                    <span><strong>Votre r√©ponse :</strong> {q.options[answers[q.id]]}</span>
                                                                </div>
                                                            </div>
                                                        ))}
                                                    </div>
                                                </div>
                                            )}

                                            {incorrectQuestions.length > 0 && (
                                                <div className="bg-red-50 rounded-2xl p-6 border-2 border-red-200">
                                                    <h4 className="text-xl font-bold text-red-700 mb-4 flex items-center">
                                                        <i className="fas fa-times-circle mr-2"></i>
                                                        R√©ponses Incorrectes ({incorrectQuestions.length})
                                                    </h4>
                                                    <div className="space-y-3">
                                                        {incorrectQuestions.map((q) => (
                                                            <div key={q.id} className="bg-white rounded-xl p-4 border-l-4 border-red-500">
                                                                <div className="flex justify-between items-start mb-3">
                                                                    <span className="font-semibold text-gray-800">Question {q.id}</span>
                                                                    <span className="bg-red-500 text-white px-3 py-1 rounded-full text-sm font-bold">
                                                                        0 pts
                                                                    </span>
                                                                </div>
                                                                <p className="text-sm text-gray-700 mb-3">{q.question}</p>
                                                                <div className="bg-gray-900 rounded-lg p-3 mb-3">
                                                                    <pre className="text-green-400 text-xs overflow-x-auto">{q.code}</pre>
                                                                </div>
                                                                <div className="space-y-2 text-sm">
                                                                    <div className="flex items-center text-red-600">
                                                                        <i className="fas fa-times mr-2"></i>
                                                                        <span><strong>Votre r√©ponse :</strong> {q.options[answers[q.id]]}</span>
                                                                    </div>
                                                                    <div className="flex items-center text-green-600">
                                                                        <i className="fas fa-check mr-2"></i>
                                                                        <span><strong>Bonne r√©ponse :</strong> {q.options[q.correct]}</span>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        ))}
                                                    </div>
                                                </div>
                                            )}

                                            {unansweredQuestions.length > 0 && (
                                                <div className="bg-gray-50 rounded-2xl p-6 border-2 border-gray-200">
                                                    <h4 className="text-xl font-bold text-gray-700 mb-4 flex items-center">
                                                        <i className="fas fa-question-circle mr-2"></i>
                                                        Questions Non R√©pondues ({unansweredQuestions.length})
                                                    </h4>
                                                    <div className="space-y-3">
                                                        {unansweredQuestions.map((q) => (
                                                            <div key={q.id} className="bg-white rounded-xl p-4 border-l-4 border-gray-400">
                                                                <div className="flex justify-between items-start mb-2">
                                                                    <span className="font-semibold text-gray-800">Question {q.id}</span>
                                                                    <span className="bg-gray-400 text-white px-3 py-1 rounded-full text-sm font-bold">
                                                                        0 pts
                                                                    </span>
                                                                </div>
                                                                <p className="text-sm text-gray-700 mb-2">{q.question}</p>
                                                                <div className="bg-gray-900 rounded-lg p-3 mb-2">
                                                                    <pre className="text-green-400 text-xs overflow-x-auto">{q.code}</pre>
                                                                </div>
                                                                <div className="text-sm text-green-600 flex items-center">
                                                                    <i className="fas fa-check mr-2"></i>
                                                                    <span><strong>Bonne r√©ponse :</strong> {q.options[q.correct]}</span>
                                                                </div>
                                                            </div>
                                                        ))}
                                                    </div>
                                                </div>
                                            )}
                                        </div>
                                    )}
                                </div>
                            </div>
                        </div>
                    </div>
                );
            }

            return null;
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<PythonQuizApp />);
    </script>
</body>
</html>





